Frederich Stine - EN 605.617 - JHU EP
----------------------------------------------------------------
Example runner to show execution of Module 3 assignment
----------------------------------------------------------------
This runner demonstrates the add, sub, mult, and mod operations
with varying block sizes and thread counts.
This runner additionally demonstrates conditional branching both
in a Cuda kernel and outside with a reference Cuda kernel that
does not include conditional branching.


Portion 1 - Cuda addition kernel
Running with 128 threads - block size of 16
Result: 
B0  B1  B2  B3  B4  B5  B6  B7  
3   16  35  48  65  80  97  115 
1   19  35  51  66  83  98  114 
2   18  37  53  69  85  100 115 
5   19  36  54  70  83  99  118 
6   23  37  55  71  84  103 118 
8   22  38  55  70  86  104 118 
8   25  40  55  71  86  103 120 
8   25  41  55  72  90  104 119 
9   24  42  59  74  89  106 123 
9   26  42  57  75  91  107 124 
12  29  43  60  75  91  108 122 
13  29  43  60  75  91  109 123 
14  30  46  63  76  93  108 127 
14  31  46  64  79  96  110 128 
14  31  47  64  81  96  112 129 
16  32  49  65  79  98  112 127 
Running with 128 threads - block size of 32
Result: 
B0  B1  B2  B3  
1   33  65  97  
2   36  67  98  
2   37  66  99  
4   35  70  102 
6   38  70  100 
8   37  72  101 
6   41  73  104 
10  42  74  106 
9   40  75  104 
9   44  73  108 
10  43  75  108 
12  45  78  108 
13  44  76  110 
13  45  79  112 
17  47  79  113 
18  49  81  113 
18  49  80  112 
18  51  81  115 
18  53  85  116 
20  52  83  118 
20  55  87  118 
22  56  85  117 
25  54  88  120 
26  57  90  120 
26  59  90  122 
25  59  91  123 
28  58  93  124 
29  59  92  126 
29  62  92  124 
29  63  95  128 
32  65  95  127 
33  63  97  128 
Running with 256 threads - block size of 16
Result: 
B0  B1  B2  B3  B4  B5  B6  B7  B8  B9  B10 B11 B12 B13 B14 B15 
1   18  33  49  65  80  97  112 128 146 163 178 192 210 227 240 
2   18  36  51  67  81  98  115 131 147 162 180 194 212 228 244 
2   18  37  53  66  85  99  116 131 147 165 178 194 213 228 243 
4   20  35  52  70  83  102 118 131 147 165 179 196 212 230 245 
6   20  38  55  70  87  100 118 135 150 164 183 196 213 230 244 
8   22  37  56  72  85  101 117 136 149 168 183 199 214 232 248 
6   25  41  54  73  88  104 120 134 151 168 183 198 216 231 247 
10  26  42  57  74  90  106 120 138 152 170 184 201 218 234 250 
9   26  40  59  75  90  104 122 139 154 169 185 201 218 232 248 
9   25  44  59  73  91  108 123 139 156 171 186 202 218 236 249 
10  28  43  58  75  93  108 124 138 154 170 189 203 221 236 250 
12  29  45  59  78  92  108 126 140 157 174 187 206 220 236 252 
13  29  44  62  76  92  110 124 142 158 174 190 205 221 238 253 
13  29  45  63  79  95  112 128 144 158 173 192 208 222 238 256 
17  32  47  65  79  95  113 127 145 158 175 192 209 225 238 257 
18  33  49  63  81  97  113 128 145 161 175 193 210 224 239 255 
Running with 256 threads - block size of 32
Result: 
B0  B1  B2  B3  B4  B5  B6  B7  
3   34  66  97  128 161 194 227 
3   33  67  97  131 164 195 228 
4   35  69  100 133 165 196 228 
4   35  67  102 133 164 198 227 
5   38  69  101 132 165 197 231 
6   40  70  103 135 167 197 230 
8   40  73  105 137 168 201 231 
9   42  71  104 136 167 199 231 
9   42  72  105 139 171 201 234 
12  43  76  106 138 169 202 233 
10  45  76  107 140 172 205 234 
11  45  75  108 141 173 203 235 
15  44  76  111 143 175 206 236 
14  46  79  111 143 174 205 238 
16  46  78  110 145 175 207 238 
17  47  81  112 145 176 210 242 
16  50  82  115 146 177 211 240 
17  49  82  116 145 180 212 244 
18  51  85  115 148 180 213 245 
19  52  83  118 148 182 211 244 
23  54  84  119 150 181 213 244 
23  55  88  118 151 183 214 248 
23  54  86  118 150 184 217 246 
26  58  88  122 153 186 218 249 
25  57  88  120 153 186 218 249 
27  57  92  124 153 186 219 251 
26  61  92  122 157 189 219 251 
30  60  92  124 155 189 222 254 
28  61  92  126 156 188 221 255 
29  62  96  125 160 192 222 255 
32  63  94  129 158 193 222 256 
34  66  97  127 160 192 226 257 
Portion 2 - Cuda subtraction kernel
Running with 128 threads - block size of 16
Result: 
B0  B1  B2  B3  B4  B5  B6  B7  
-3  16  30  46  62  78  95  109 
-1  17  33  49  63  80  97  110 
0   18  33  49  63  79  96  113 
2   19  35  50  67  83  96  112 
3   17  34  50  67  84  99  113 
4   19  34  51  68  82  99  116 
4   21  36  54  67  86  99  118 
5   20  36  52  71  86  102 116 
7   23  38  55  72  88  103 120 
6   23  39  57  70  86  104 118 
10  26  39  55  72  88  105 122 
11  24  41  58  75  90  106 122 
9   28  44  59  76  92  105 122 
12  29  44  60  75  90  107 125 
12  28  46  61  78  94  110 123 
13  28  47  60  77  93  110 127 
Running with 128 threads - block size of 32
Result: 
B0  B1  B2  B3  
0   29  61  93  
0   32  62  95  
-1  33  65  95  
2   35  65  99  
3   33  67  99  
3   35  66  101 
5   37  69  102 
6   37  68  103 
5   38  69  101 
6   41  70  105 
7   40  74  105 
8   43  75  105 
10  43  73  108 
13  45  77  107 
12  46  77  107 
15  47  78  108 
13  46  77  112 
15  47  79  113 
16  49  82  114 
19  48  82  112 
20  50  81  116 
18  52  85  114 
22  51  83  118 
23  53  86  119 
24  55  88  117 
25  57  86  118 
25  58  88  119 
25  58  88  123 
28  58  91  121 
27  59  93  125 
29  61  94  125 
31  62  95  125 
Running with 256 threads - block size of 16
Result: 
B0  B1  B2  B3  B4  B5  B6  B7  B8  B9  B10 B11 B12 B13 B14 B15 
0   13  29  46  61  77  93  112 126 144 157 174 192 208 224 239 
0   15  32  47  62  79  95  113 129 142 160 177 191 207 225 238 
-1  16  33  49  65  82  95  114 128 144 161 178 193 208 226 242 
2   19  35  48  65  82  99  112 128 147 160 178 195 208 224 242 
3   20  33  50  67  81  99  116 132 146 161 177 193 212 228 241 
3   18  35  52  66  85  101 114 131 147 164 180 194 213 227 242 
5   22  37  51  69  83  102 118 131 149 164 180 196 211 230 243 
6   23  37  53  68  86  103 119 132 150 165 183 198 213 229 247 
5   24  38  55  69  88  101 117 134 151 167 182 198 215 231 248 
6   25  41  57  70  86  105 118 137 153 166 185 198 217 232 246 
7   25  40  58  74  88  105 119 137 152 169 185 201 218 234 249 
8   25  43  58  75  88  105 123 136 155 171 185 201 219 235 251 
10  28  43  58  73  91  108 121 138 156 169 185 202 220 235 251 
13  27  45  59  77  93  107 125 141 154 170 186 202 220 235 253 
12  29  46  61  77  94  107 125 140 156 172 189 204 219 237 254 
15  31  47  62  78  95  108 125 141 157 175 189 206 223 238 254 
Running with 256 threads - block size of 32
Result: 
B0  B1  B2  B3  B4  B5  B6  B7  
-2  29  64  94  126 157 190 223 
-2  30  65  96  128 161 192 225 
1   32  65  97  129 162 194 224 
1   32  66  99  130 163 194 224 
4   35  66  98  131 161 194 228 
3   35  68  101 130 164 197 226 
3   38  67  100 133 166 197 229 
7   38  69  103 135 164 197 231 
8   40  71  101 136 165 200 229 
7   41  70  105 135 166 201 233 
10  42  72  105 135 167 200 231 
8   43  74  105 136 171 200 232 
12  44  73  105 139 169 204 236 
13  42  74  107 138 173 205 237 
11  46  77  110 141 172 206 235 
15  44  77  109 142 174 204 237 
13  45  78  112 142 173 207 238 
14  46  79  110 143 176 207 239 
15  49  80  113 143 176 207 242 
18  51  80  114 147 176 209 243 
19  52  83  114 148 179 211 242 
20  50  82  115 149 178 213 244 
20  54  85  117 149 181 213 243 
23  53  84  119 150 181 212 246 
23  54  86  119 151 182 213 246 
22  54  86  120 150 182 217 248 
23  56  90  120 152 183 216 249 
27  58  90  123 154 185 219 251 
26  57  89  121 156 187 218 251 
26  61  91  124 155 187 218 252 
28  61  91  126 156 189 222 253 
31  61  92  126 156 191 223 253 
Portion 3 - Cuda multiplication kernel
Running with 128 threads - block size of 16
Result: 
B0  B1  B2  B3  B4  B5  B6  B7  
0   48  96  144 0   160 192 0   
3   51  99  147 0   162 97  339 
2   54  68  50  66  164 98  114 
6   19  105 0   67  249 0   115 
0   20  36  0   136 84  200 232 
10  21  74  159 69  255 0   234 
18  44  0   0   210 86  204 118 
0   0   39  110 142 261 0   0   
0   24  0   112 72  176 312 120 
18  75  0   171 219 267 0   121 
0   78  0   116 148 0   106 244 
33  0   0   59  75  91  214 0   
0   56  0   180 228 276 324 372 
0   87  135 0   231 186 218 125 
42  60  0   62  78  282 0   0   
0   0   141 126 158 285 222 127 
Running with 128 threads - block size of 32
Result: 
B0  B1  B2  B3  
0   64  0   0   
1   33  65  291 
4   0   66  294 
9   70  67  198 
0   36  68  100 
15  0   69  303 
0   0   0   102 
14  117 213 206 
16  80  72  0   
9   123 73  315 
30  42  148 318 
22  86  75  321 
0   0   228 324 
0   90  231 218 
14  46  234 0   
45  94  79  333 
32  96  0   0   
0   0   162 226 
54  150 164 342 
19  51  0   230 
60  0   168 232 
0   0   0   0   
22  108 86  118 
23  0   261 357 
0   56  88  0   
25  57  0   0   
78  174 270 244 
54  177 182 369 
56  60  184 0   
0   122 279 0   
90  0   188 126 
31  189 190 0   
Running with 256 threads - block size of 16
Result: 
B0  B1  B2  B3  B4  B5  B6  B7  B8  B9  B10 B11 B12 B13 B14 B15 
0   16  32  48  64  240 192 0   0   432 0   352 384 624 0   0   
1   51  33  147 65  243 97  226 0   0   483 354 386 209 450 482 
2   36  0   50  0   0   196 114 390 438 0   356 388 420 0   0   
3   0   35  153 0   249 198 345 131 0   0   358 195 422 681 243 
0   40  108 0   204 252 100 116 0   0   492 540 588 212 456 244 
5   21  74  0   0   170 0   0   0   149 165 0   0   639 687 0   
6   66  114 108 70  258 0   236 134 150 332 0   594 0   460 492 
14  46  39  165 142 174 0   119 270 302 334 366 597 215 0   494 
16  72  120 168 216 0   104 240 408 456 0   0   400 216 464 248 
9   75  123 57  73  178 315 242 411 0   169 370 603 0   0   498 
30  78  0   174 148 0   212 244 414 154 510 0   404 0   234 250 
22  81  0   59  150 91  107 369 139 310 513 561 0   438 0   251 
12  56  132 60  228 92  216 372 420 468 344 188 204 0   472 0   
0   0   90  183 231 93  0   375 141 471 346 567 205 442 711 253 
28  0   46  62  156 0   220 252 426 474 522 380 412 0   0   762 
15  93  0   189 79  190 111 127 429 477 350 191 0   446 239 0   
Running with 256 threads - block size of 32
Result: 
B0  B1  B2  B3  B4  B5  B6  B7  
0   32  64  192 0   0   384 0   
1   33  65  97  0   483 386 450 
2   0   0   196 390 0   388 0   
3   35  0   198 131 0   195 681 
0   108 204 100 0   492 588 456 
5   74  0   0   0   165 0   687 
6   114 70  0   134 332 594 460 
14  39  142 0   270 334 597 0   
16  120 216 104 408 0   400 464 
9   123 73  315 411 169 603 0   
30  0   148 212 414 510 404 234 
22  0   150 107 139 513 0   0   
12  132 228 216 420 344 204 472 
0   90  231 0   141 346 205 711 
28  46  156 220 426 522 412 0   
15  0   79  111 429 350 0   239 
16  48  240 0   432 352 624 0   
51  147 243 226 0   354 209 482 
36  50  0   114 438 356 420 0   
0   153 249 345 0   358 422 243 
40  0   252 116 0   540 212 244 
21  0   170 0   149 0   639 0   
66  108 258 236 150 0   0   492 
46  165 174 119 302 366 215 494 
72  168 0   240 456 0   216 248 
75  57  178 242 0   370 0   498 
78  174 0   244 154 0   0   250 
81  59  91  369 310 561 438 251 
56  60  92  372 468 188 0   0   
0   183 93  375 471 567 442 253 
0   62  0   252 474 380 0   762 
93  189 190 127 477 191 446 0   
Portion 4 - Cuda modulo kernel
Running with 128 threads - block size of 16
Result: 
B0  B1  B2  B3  B4  B5  B6  B7  
-1  1   0   -1  0   -1  0   0   
0   1   0   0   2   0   1   0   
0   0   0   2   0   0   -1  0   
-1  1   0   1   1   2   -1  1   
1   0   0   1   0   0   0   -1  
2   1   1   0   0   1   -1  -1  
-1  0   2   0   1   0   -1  0   
1   -1  0   1   2   0   0   1   
-1  -1  0   2   0   0   0   0   
0   0   -1  1   0   1   0   1   
-1  -1  0   1   2   0   0   -1  
-1  -1  -1  -1  0   0   -1  0   
0   0   0   0   1   0   0   0   
1   0   1   1   2   0   -1  2   
-1  -1  1   0   0   1   2   0   
0   0   0   1   1   1   1   -1  
Running with 128 threads - block size of 32
Result: 
B0  B1  B2  B3  
-1  0   0   0   
0   0   2   1   
0   0   0   -1  
-1  0   1   -1  
1   0   0   0   
2   1   0   -1  
-1  2   1   -1  
1   0   2   0   
-1  0   0   0   
0   -1  0   0   
-1  0   2   0   
-1  -1  0   -1  
0   0   1   0   
1   1   2   -1  
-1  1   0   2   
0   0   1   1   
1   -1  -1  0   
1   0   0   0   
0   2   0   0   
1   1   2   1   
0   1   0   -1  
1   0   1   -1  
0   0   0   0   
-1  1   0   1   
-1  2   0   0   
0   1   1   1   
-1  1   0   -1  
-1  -1  0   0   
0   0   0   0   
0   1   0   2   
-1  0   1   0   
0   1   1   -1  
Running with 256 threads - block size of 16
Result: 
B0  B1  B2  B3  B4  B5  B6  B7  B8  B9  B10 B11 B12 B13 B14 B15 
0   -1  0   0   0   0   0   1   0   0   1   -1  -1  0   0   0   
0   0   1   -1  2   1   0   2   1   0   2   -1  0   2   0   0   
2   -1  1   0   -1  -1  2   0   0   -1  0   0   2   0   0   -1  
0   1   2   0   0   0   1   1   -1  -1  1   2   0   0   2   1   
-1  0   0   0   -1  0   0   0   0   0   2   0   0   0   -1  0   
-1  1   0   -1  0   1   -1  0   1   1   -1  1   -1  0   1   2   
0   0   0   0   0   -1  0   0   0   0   0   2   0   0   -1  0   
1   2   -1  1   2   -1  1   0   1   -1  1   0   -1  -1  1   1   
0   -1  1   0   0   -1  2   0   1   2   0   0   0   0   0   -1  
1   0   1   0   1   -1  0   -1  1   1   1   -1  0   0   1   -1  
0   2   0   -1  0   0   -1  -1  0   0   0   0   0   0   0   0   
0   0   1   0   1   1   1   0   -1  0   1   0   -1  0   -1  1   
0   -1  0   0   1   -1  0   0   2   0   0   0   0   0   0   0   
-1  0   -1  1   1   1   -1  0   -1  0   2   -1  1   0   -1  1   
0   0   -1  -1  -1  -1  2   0   -1  0   -1  1   0   -1  1   -1  
0   1   1   0   -1  1   -1  -1  1   0   0   0   0   1   2   0   
Running with 256 threads - block size of 32
Result: 
B0  B1  B2  B3  B4  B5  B6  B7  
0   0   -1  0   -1  -1  -1  2   
1   0   0   1   -1  -1  0   1   
0   -1  0   0   0   0   0   1   
1   -1  1   -1  0   1   -1  1   
0   0   0   -1  0   2   0   0   
1   0   1   1   1   0   2   0   
0   2   1   -1  2   0   0   0   
1   0   -1  1   1   1   1   0   
2   0   0   -1  0   -1  0   -1  
0   2   1   0   2   1   0   0   
-1  0   2   -1  0   0   -1  -1  
0   1   1   2   1   0   0   1   
0   -1  1   0   -1  1   0   2   
0   -1  0   0   -1  2   1   0   
0   0   0   0   0   0   0   0   
0   2   1   1   0   0   1   -1  
1   0   0   -1  0   -1  0   -1  
2   1   0   1   0   0   0   0   
0   0   -1  0   0   1   -1  0   
1   1   0   -1  0   0   1   0   
0   -1  0   2   0   0   2   0   
0   -1  -1  -1  1   0   0   2   
1   -1  0   0   0   2   -1  0   
1   1   0   0   1   1   2   1   
0   0   0   -1  -1  -1  0   0   
0   0   -1  1   1   1   1   1   
0   1   -1  -1  1   0   -1  -1  
0   2   1   0   -1  0   0   -1  
0   0   -1  1   0   2   0   0   
2   -1  0   1   -1  -1  1   -1  
0   0   0   0   0   0   -1  2   
1   0   -1  1   0   2   1   -1  
Portion 5 - Cuda conditional branch timing test
Running with 1024 threads - block size of 64
Time elapsed GPU conditional: 0.026000ms
Time elapsed GPU non-conditional: 0.010000ms
Time elapsed CPU conditional: 0.003000ms
Running with 2048 threads - block size of 64
Time elapsed GPU conditional: 0.033000ms
Time elapsed GPU non-conditional: 0.013000ms
Time elapsed CPU conditional: 0.009000ms
Running with 4096 threads - block size of 64
Time elapsed GPU conditional: 0.035000ms
Time elapsed GPU non-conditional: 0.015000ms
Time elapsed CPU conditional: 0.019000ms
Running with 1024 threads - block size of 128
Time elapsed GPU conditional: 0.027000ms
Time elapsed GPU non-conditional: 0.010000ms
Time elapsed CPU conditional: 0.003000ms
Running with 2048 threads - block size of 128
Time elapsed GPU conditional: 0.033000ms
Time elapsed GPU non-conditional: 0.012000ms
Time elapsed CPU conditional: 0.009000ms
Running with 4096 threads - block size of 128
Time elapsed GPU conditional: 0.034000ms
Time elapsed GPU non-conditional: 0.015000ms
Time elapsed CPU conditional: 0.022000ms
